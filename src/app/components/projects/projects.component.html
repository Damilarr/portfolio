<section
  class="flex-col relative z-20 flex h-fit justify-around py-16 px-4 sm:px-6 md:px-10 lg:px-16 space-y-5"
>
  <div class="w-1/2 flex-col space-y-1 pb-6">
    <h3
      class="header mb-6 text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold"
    >
      FEATURED WORK
    </h3>
  </div>

  <!-- Tabs -->
  <div class="flex gap-4 mb-8">
    <button
      (click)="setActiveTab('web')"
      [class.active-tab]="activeTab === 'web'"
      [class.inactive-tab]="activeTab !== 'web'"
      class="tab-button"
    >
      <i class="fa-solid fa-globe mr-2"></i>
      WEB
    </button>
    <button
      (click)="setActiveTab('mobile')"
      [class.active-tab]="activeTab === 'mobile'"
      [class.inactive-tab]="activeTab !== 'mobile'"
      class="tab-button"
    >
      <i class="fa-solid fa-mobile-screen-button mr-2"></i>
      MOBILE
    </button>
  </div>

  <div
    class="flex flex-col w-full max-w-5xl"
    data-aos="fade-up"
  >
    <!-- Project List -->
    <div *ngFor="let project of filteredData" class="project-item group mb-4">
      <div class="flex flex-col md:flex-row justify-between items-start gap-6">
        
        <!-- Thumbnail -->
        <div class="shrink-0">
          <img
            [src]="project.img"
            [alt]="project.projectName"
            class="project-thumbnail"
          />
        </div>

        <!-- Main Content -->
        <div class="flex-1 space-y-3">
          <div class="flex flex-wrap items-center gap-3">
            <h3 class="text-2xl font-bold text-white group-hover:text-[#F8D47A] transition-colors">
              {{ project.projectName }}
            </h3>
            
            <!-- Platform Badges for Mobile -->
            <div *ngIf="project.category === 'mobile' && project.platforms" class="flex gap-2 text-gray-400">
               <span *ngFor="let platform of project.platforms">
                  <i *ngIf="platform.toLowerCase() === 'ios'" class="fa-brands fa-apple"></i>
                  <i *ngIf="platform.toLowerCase() === 'android'" class="fa-brands fa-android"></i>
               </span>
            </div>
          </div>

          <p class="text-gray-400 text-sm md:text-base leading-relaxed max-w-3xl">
            {{ project.projectDesc }}
          </p>

          <!-- Tech Stack -->
          <div class="flex flex-wrap gap-2 pt-1">
            <span *ngFor="let tech of project.techs" class="tech-tag">
              {{ tech }}
            </span>
          </div>
        </div>

        <!-- Action Links -->
        <div class="flex items-center gap-3 shrink-0 pt-2 md:pt-0">
          <!-- Github -->
          <a
            *ngIf="project.githubLink"
            [href]="project.githubLink"
            target="_blank"
            class="link-icon"
            title="View Code"
          >
            <i class="fa-brands fa-github text-xl"></i>
          </a>

          <!-- Live Link (Web) -->
          <a
            *ngIf="project.projectLink"
            [href]="project.projectLink"
            target="_blank"
            class="link-icon"
            title="Live Demo"
          >
            <i class="fa-solid fa-arrow-up-right-from-square text-lg"></i>
          </a>

          <!-- Store Links (Mobile) -->
          <ng-container *ngIf="project.storeLinks">
            <a
                *ngIf="project.storeLinks.appStore"
                [href]="project.storeLinks.appStore"
                target="_blank"
                class="link-icon"
                title="App Store"
            >
                <i class="fa-brands fa-apple text-xl"></i>
            </a>
            <a
                *ngIf="project.storeLinks.playStore"
                [href]="project.storeLinks.playStore"
                target="_blank"
                class="link-icon"
                title="Play Store"
            >
                <i class="fa-brands fa-google-play text-lg"></i>
            </a>
            <a
                *ngIf="project.storeLinks.apk"
                [href]="project.storeLinks.apk"
                target="_blank"
                class="link-icon"
                title="Download APK"
            >
                <i class="fa-solid fa-download text-lg"></i>
            </a>
            <a
                *ngIf="project.storeLinks.testflight"
                [href]="project.storeLinks.testflight"
                target="_blank"
                class="link-icon"
                title="TestFlight"
            >
                <i class="fa-solid fa-plane text-lg"></i>
            </a>
          </ng-container>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredData.length === 0" class="text-center py-12">
      <p class="text-whitish text-xl exo">
        No {{ activeTab }} projects available at the moment.
      </p>
    </div>
  </div>
</section>
